# jankendon
Mastodon上でじゃんけんゲームを行う機能についての設計のようなもの。
# 概要
Mastodon上のbotを相手にじゃんけんするゲーム。じゃんけんは一日に一回ランダムな時間に開始される。
# 定時的な動作
crontabで以下の動作を定時的に実行する。
## じゃんけんの開始
毎時0分に開始される。botの「じゃーんけーん」のトゥートで周知される。
## じゃんけんの手を出す
毎時45分に開始される。botが「#ぽん」トゥートで手を出す。botが手を出した時点で各ユーザが出している最新の手が次の判定に生かされる。
## じゃんけんの結果を判定する
botが「#ぽん」を出したと同時に開始される。botの最新の「じゃーんけーん」から「#ぽん」までの間に参加者が出した手を判定する。
## じゃんけんの結果に従って処理をする
毎時50分に開始される。じゃんけんの結果の判定により、次の動作を行う。
1. 勝ち　→　レベルアップ
2. 負け　→　アカウントを凍結（デスゲーム） or レベルダウン
3. あいこ　→　特になし
# 対話的な動作
Mastodon Streaming APIで以下の動作を対話的に実行する
## フォロー＆アンフォロー
女神様アカウントをフォローすると、そのアカウントからリフォローが来る。これによって連合TLにハッシュ付きトゥートが載るようになり、DM、リプライ以外でも参加が可能になる。
## 状態確認
「LV」「lv」いずれかのみをトゥートで女神様アカウントにDMすると、自身の現在のレベルを返す。
# botの種類
## じゃんけんbot（モンスター）
## 連合用bot（女神様）
# ユーザ管理
JSONファイルで管理。